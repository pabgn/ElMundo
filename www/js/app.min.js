!function(a,o){"use strict";o.app=a.module("em",["ionic"]),o.app.run(["$ionicPlatform",function(a){a.ready(function(){o.cordova&&o.cordova.plugins.Keyboard&&cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),o.StatusBar&&StatusBar.styleDefault()})}])}(angular,window);
var Suaip=function(e,t){"use strict";var a,n,i=200,r=100,s=2,c={},d={},o=!1,l=0,v=!1,f=function(e){if(!(e&&e.after&&e.active&&e.scope))throw"Invalid config";a=document.body.classList,n=e.scope,n.$apply(function(){n.nextLevel=L}),document.getElementsByTagName("h1")[0].addEventListener("click",function(){n.nextLevel()}),e.active.classList.add("active"),e.after.classList.add("after"),e.left&&e.left.classList.add("left"),e.right&&e.right.classList.add("right"),m(e.active,e.after,e.left,e.right),g()},g=function(){c=new e(d.active,{preventDefault:!0}),0!==n.level&&c.on("dragdown",y),c.on("dragend",E),d.left&&n.canGoNext()&&c.on("dragleft",p),d.right&&n.canGoPrev()&&c.on("dragright",h);for(var t in d)d[t].removeEventListener("touchstart",$)},u=function(){0!==n.level&&c.off("dragdown",y),c.off("dragend",E),d.left&&n.canGoNext()&&c.off("dragleft",p),d.right&&n.canGoPrev()&&c.off("dragright",h);for(var e in d)d[e].addEventListener("touchstart",$,!1)},m=function(e,t,a,i){d.active=e?e:document.getElementsByClassName("active")[0],d.after=1===n.level?document.getElementsByClassName("before")[0]:t?t:document.getElementsByClassName("after")[0],d.left=a?a:document.getElementsByClassName("left")[0],d.right=i?i:document.getElementsByClassName("right")[0]},p=function(e){if(!v){B(d.active,-e.gesture.distance,l,0);var t=Math.round(e.gesture.distance/d.active.scrollWidth*100),a=30>t?30:t;B(d.right,d.active.scrollWidth-e.gesture.distance,0,0),d.right.getElementsByTagName("p")[0].style.color="rgba(0, 0, 0, 0."+a+")"}},h=function(e){if(!v){B(d.active,e.gesture.distance,l,0);var t=Math.round(e.gesture.distance/d.active.scrollWidth*100),a=30>t?30:t;B(d.left,-(d.active.scrollWidth-e.gesture.distance),0,0),d.after.getElementsByTagName("p")[0].style.color="rgba(0, 0, 0, 0."+a+")"}},y=function(e){var a=Math.round((l+e.gesture.distance)/t.innerHeight*100),n=30>a?30:a;B(d.active,0,l+e.gesture.distance,0),B(d.after,0,-(t.innerHeight-(e.gesture.distance+l)),0),d.after.getElementsByTagName("p")[0].style.color="rgba(0, 0, 0, 0."+n+")",v=!0},L=function(){u(),x(i),o="up",T()},E=function(e){o=e.gesture.direction,u();var t=e.gesture.velocityY>s?r:i;x(t),v=!1,"down"===o&&1===n.level?G(e):"left"===o&&n.canGoNext()?W(e):"right"===o&&n.canGoPrev()?C(e):(b(),g())},w=function(){d.active.classList.remove("animate"),["animate","dragup-reset","drag-complete","dragup-complete","dragdown-reset","dragdown-complete","dragleft-complete","dragright-complete"].forEach(function(e){a.remove(e)});for(var e in d)d[e].style.transition="",d[e].style.transform=d[e].style.webkitTransform="",d[e].style.opacity="";"up"===o&&n.enterRead(),d.active.removeEventListener("transitionend",w,!1),d.active.classList.contains("drag-complete")&&N(),m(),g()},N=function(){var e=d.active.classList,t=d.after.classList,a=d.left.classList,n=d.right.classList;e.remove("active"),e.remove("drag-complete"),"up"===o?(e.add("before"),t.remove("after"),t.add("active")):"down"===o?(e.add("after"),t.remove("before"),t.add("active")):"left"===o?(n.remove("right"),n.add("active"),e.add("left"),a.remove("left"),a.add("right")):(a.remove("left"),a.add("active"),e.add("right"),n.remove("right"),n.add("left"))},x=function(e){d.active.classList.add("animate");for(var t in d)d[t].style.transition="all "+e+"ms ease"},b=function(){t.setTimeout(function(){d.active.classList.remove("animate");for(var e in d)d[e].style.transition=""},400)},B=function(e,t,a,n){var i="translate3d("+t+"px,"+a+"px,"+n+"px)";e.style.transform=e.style.webkitTransform=i},T=function(){n.$apply(function(){n.level=1}),l=0,a.add("dragup-complete"),d.active.classList.add("drag-complete"),d.active.addEventListener("transitionend",w,!1)},G=function(e){l+=e.gesture.distance,l<t.innerHeight/6*2?(l>0&&(l=0,B(d.active,0,0,0)),g(),b()):(n.$apply(function(){n.level=0,n.back()}),l=0,a.add("dragdown-complete"),d.active.classList.add("drag-complete"),d.active.addEventListener("transitionend",w,!1))},W=function(e){e.gesture.distance<t.innerWidth/3?(B(d.active,0,l,0),g(),b()):(n.$apply(function(){n.sectionIndex[n.level]++,n.next()}),a.add("dragleft-complete"),d.active.classList.add("drag-complete"),d.active.addEventListener("transitionend",w,!1))},C=function(e){e.gesture.distance<t.innerWidth/3?(B(d.active,0,l,0),g(),b()):(n.$apply(function(){n.sectionIndex[n.level]--,n.prev()}),a.add("dragright-complete"),d.active.classList.add("drag-complete"),d.active.addEventListener("transitionend",w,!1))},$=function(e){e.preventDefault()};return{init:f}}(Hammer,window);
!function(e,n){"use strict";e.controller("CardGridCtrl",["$scope",function(e){e.level=0,e.sectionIndex=[1,0],e.canGoNext=function(){return!0},e.canGoPrev=function(){return!0},e.prev=function(){},e.next=function(){},e.back=function(){},e.enterRead=function(){},window.addEventListener("DOMContentLoaded",function(){n.init({active:document.getElementById("top"),after:document.getElementById("read"),left:document.getElementById("left"),right:document.getElementById("right"),scope:e})})}])}(window.app,window.Suaip);